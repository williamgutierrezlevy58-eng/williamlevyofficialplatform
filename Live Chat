<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Simple Live Chat Widget</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- FontAwesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .chat-widget-container {
            position: fixed;
            bottom: 24px;
            right: 24px;
            z-index: 9999;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .chat-widget-button {
            width: 60px;
            height: 60px;
            background: #e74c3c;
            border: none;
            border-radius: 50%;
            color: #fff;
            font-size: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 16px rgba(0,0,0,0.18);
            transition: background 0.2s;
        }
        .chat-widget-button:hover {
            background: #c0392b;
        }
        .chat-widget-box {
            display: none;
            flex-direction: column;
            width: 350px;
            height: 470px;
            background: #fff;
            border-radius: 14px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.20);
            position: absolute;
            bottom: 70px;
            right: 0;
            overflow: hidden;
        }
        .chat-widget-header {
            background: linear-gradient(to right, #2c3e50, #1a242f);
            color: #fff;
            padding: 16px 18px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .chat-widget-header h3 {
            margin: 0;
            font-size: 17px;
            font-weight: 500;
        }
        .chat-widget-close {
            cursor: pointer;
            font-size: 22px;
        }
        .chat-widget-messages {
            flex: 1;
            padding: 16px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 12px;
            background: #f5f5f5;
        }
        .chat-widget-message {
            max-width: 80%;
            padding: 10px 16px;
            border-radius: 17px;
            line-height: 1.5;
            font-size: 15px;
        }
        .chat-widget-message.bot {
            background: #f1f1f1;
            align-self: flex-start;
            border-top-left-radius: 4px;
        }
        .chat-widget-message.user {
            background: #3498db;
            color: #fff;
            align-self: flex-end;
            border-top-right-radius: 4px;
        }
        .chat-widget-input-bar {
            display: flex;
            padding: 12px;
            border-top: 1px solid #ececec;
            background: #fff;
        }
        .chat-widget-input-bar input {
            flex: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 18px;
            outline: none;
            font-size: 15px;
        }
        .chat-widget-input-bar button {
            margin-left: 10px;
            background: #e74c3c;
            color: #fff;
            border: none;
            border-radius: 18px;
            padding: 0 16px;
            font-size: 18px;
            cursor: pointer;
            transition: background 0.2s;
        }
        .chat-widget-input-bar button:hover {
            background: #c0392b;
        }
        .chat-widget-quick-questions {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }
        .chat-widget-quick-question {
            padding: 7px 12px;
            background: #f1f1f1;
            border-radius: 15px;
            font-size: 13px;
            cursor: pointer;
            transition: background 0.2s;
        }
        .chat-widget-quick-question:hover {
            background: #e1e1e1;
        }
        @media (max-width: 480px) {
            .chat-widget-box { width: 98vw; right: -6px; }
        }
    </style>
</head>
<body>
    <div class="chat-widget-container">
        <button class="chat-widget-button" id="chatWidgetButton" aria-label="Open chat">
            <i class="fas fa-comments"></i>
        </button>
        <div class="chat-widget-box" id="chatWidgetBox" aria-live="polite" aria-label="Live chat box">
            <div class="chat-widget-header">
                <h3>Live Support</h3>
                <span class="chat-widget-close" id="chatWidgetClose" title="Close chat">&times;</span>
            </div>
            <div class="chat-widget-messages" id="chatWidgetMessages">
                <div class="chat-widget-message bot">
                    ðŸ‘‹ Hi! How can I help you today?
                </div>
                <div class="chat-widget-quick-questions">
                    <div class="chat-widget-quick-question" data-question="I need help with my membership purchase">I need help with my membership purchase</div>
                    <div class="chat-widget-quick-question" data-question="I have issues with Meet & Greet registration">I have issues with Meet & Greet registration</div>
                </div>
            </div>
            <div class="chat-widget-input-bar">
                <input type="text" id="chatWidgetInput" placeholder="Type your message..." autocomplete="off" aria-label="Type your message">
                <button id="chatWidgetSend" title="Send"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>
    <script>
        // Elements
        const chatBtn = document.getElementById('chatWidgetButton');
        const chatBox = document.getElementById('chatWidgetBox');
        const chatClose = document.getElementById('chatWidgetClose');
        const chatMessages = document.getElementById('chatWidgetMessages');
        const chatInput = document.getElementById('chatWidgetInput');
        const chatSend = document.getElementById('chatWidgetSend');
        // Open/close
        chatBtn.addEventListener('click', () => {
            chatBox.style.display = (chatBox.style.display === 'flex') ? 'none' : 'flex';
        });
        chatClose.addEventListener('click', () => {
            chatBox.style.display = 'none';
        });
        // Send message on button click
        chatSend.addEventListener('click', sendMessage);
        // Send message on Enter key
        chatInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
        // Quick question click
        chatMessages.addEventListener('click', function(e) {
            if (e.target.classList.contains('chat-widget-quick-question')) {
                sendQuickQuestion(e.target.dataset.question);
            }
        });
        // Send quick question
        function sendQuickQuestion(question) {
            addMessage(question, 'user');
            setTimeout(() => {
                let response = "Our support team will contact you shortly.";
                if (question.includes('membership')) {
                    response = "For membership issues, please ensure your details are correct. Would you like to speak with a support agent?";
                } else if (question.includes('Meet & Greet')) {
                    response = "For Meet & Greet, please check your email for confirmation. Need more help?";
                }
                addMessage(response, 'bot');
            }, 1000);
        }
        // Send message function
        function sendMessage() {
            const message = chatInput.value.trim();
            if (!message) return;
            addMessage(message, 'user');
            chatInput.value = '';
            setTimeout(() => {
                const responses = [
                    "Thank you for reaching out! We'll get back to you soon.",
                    "Our team will reply as soon as possible.",
                    "Thanks for your message. We're on it!",
                    "We appreciate your patience. Our support team will be with you shortly."
                ];
                addMessage(responses[Math.floor(Math.random() * responses.length)], 'bot');
            }, 1000);
        }
        // Add message to chat
        function addMessage(text, sender) {
            const msg = document.createElement('div');
            msg.className = 'chat-widget-message ' + (sender === 'user' ? 'user' : 'bot');
            msg.textContent = text;
            chatMessages.appendChild(msg);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        // Accessibility: Close chat on Esc key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') chatBox.style.display = 'none';
        });
    </script>
</body>
</html>
